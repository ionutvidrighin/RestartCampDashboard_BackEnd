<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

<script>

const tableColumns = [{
        id: 38,
        label: 'Nume si Prenume',
        value: 'fullName',
        selected: false
      }, {
        id: 39,
        label: 'Dată Curs',
        value: 'date',
        selected: false
      }, {
        id: 40,
        label: 'Adresă E-mail',
        value: 'email',
        selected: false
      }, {
        id: 41,
        label: 'Prezent',
        value: 'present',
        selected: true
      }, {
        id: 42,
        label: 'Curs',
        value: 'courseName',
        selected: true
      }]
 
const tableData = [{
  "id": "OWQfz",
  "fullName": "SEPTEMBER 2 TEST TESTING",
  "phone": "646468465",
  "email": "testing_Sept@restart-camp.org",
  "course": {
    "id": "HrM9g2w",
    "logo": "https://static.wixstatic.com/media/d5142e_a0fd4895e22b42fc9a2e8bd07ed70e8d~mv2.png/v1/fill/w_205,h_206,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/transparent.png",
    "title": "Bazele Design Grafic UX & UI",
    "date": "Tue Sep 06 2022 21:30:00 GMT+0300 (Eastern European Summer Time)",
    "hour": 21,
    "minute": 30,
    "link_page": "https://www.restart-camp.com/cursuri/design-grafic-ux-ui",
    "year_month": "2022-09",
    "present": false
  }
}, {
  "id": "Aert",
  "fullName": "SEPTEMBER 2 TEST TESTING",
  "phone": "646468465",
  "email": "abctesting_Sept@restart-camp.org",
  "course": {
    "id": "HrM9g2w",
    "logo": "https://static.wixstatic.com/media/d5142e_a0fd4895e22b42fc9a2e8bd07ed70e8d~mv2.png/v1/fill/w_205,h_206,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/transparent.png",
    "title": "Bazele Design Grafic UX & UI",
    "date": "Tue Sep 06 2022 21:30:00 GMT+0300 (Eastern European Summer Time)",
    "hour": 21,
    "minute": 30,
    "link_page": "https://www.restart-camp.com/cursuri/design-grafic-ux-ui",
    "year_month": "2022-09",
    "present": false
  }
}, {
  "id": "6tyf",
  "fullName": "SEPTEMBER 2 TEST TESTING",
  "phone": "646468465",
  "email": "123testing_Sept@restart-camp.org",
  "course": {
    "id": "HrM9g2w",
    "logo": "https://static.wixstatic.com/media/d5142e_a0fd4895e22b42fc9a2e8bd07ed70e8d~mv2.png/v1/fill/w_205,h_206,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/transparent.png",
    "title": "Bazele Design Grafic UX & UI",
    "date": "Tue Sep 06 2022 21:30:00 GMT+0300 (Eastern European Summer Time)",
    "hour": 21,
    "minute": 30,
    "link_page": "https://www.restart-camp.com/cursuri/design-grafic-ux-ui",
    "year_month": "2022-09",
    "present": true
  }
}]

const restrictedColumns = []
tableColumns.forEach(column => column.selected && restrictedColumns.push(column.value))
console.log(restrictedColumns)


const modified = []

tableData.forEach(entry => {
  restrictedColumns.forEach(column => {
    if (entry.hasOwnProperty(column)) {
      delete entry[column]
    }
    if (column === 'courseName') {
      delete entry.course['title']
    }
    if (column === 'present') {
      delete entry.course['present']
    }
  })
  modified.push(entry)
})


 console.log(modified)


</script>
  
</body>
</html>